@model IEnumerable<FilmViewModel>

<!DOCTYPE html>
<html>
<head>
  <title>"Products"</title>
  <script src="~/lib/jquery/dist/jquery.min.js"></script>
</head>

<body>
  <h2>Products</h2>
  <hr />
  <div class="filter-panel">
    <p>
      Genre:
      <select class="custom-select searchClass" style="width:auto" name="GenreId" asp-items="@ViewBag.Genres">
        <option value="">All</option>
      </select>

      Country:
      <select class="custom-select searchClass" style="width:auto" name="CountryId" asp-items="@ViewBag.Countries">
        <option value="">All</option>
      </select>
      <br />
      <label>Title: </label>
      <input class="searchClass" type="text" placeholder="Title" name="SearchString" />
      <label> Producer: </label>
      <input class="searchClass" type="text" placeholder="Producer" name="ProducerName" />
      <br />
      <label>Year: </label>
      <input class="searchClass" type="number" placeholder="From" name="YearFrom" style="width:4rem" />
      <input class="searchClass" type="number" placeholder="To" name="YearTo" style="width:4rem" />
      <input class="btn btn-secondary" type="submit" value="Filter" onclick="Filter()" />
    </p>
  </div>
  <div class="panel-body"></div>
</body>

</html>

@section Scripts {
  @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
<script>
  $(document).ready(function () {
    Filter();
  });
</script>
  <script>
    $('div.film>div.card-footer>input').on(
      {
        'input': function () {
          var num = $(this).val();
          var ref = $(this).siblings('a').attr('href');
          var index = ref.indexOf('count=') + 'count='.length;
          ref = ref.substr(0, index) + num + ref.substr(ref.indexOf('&'), ref.length);
          $(this).siblings('a').attr('href', ref);
        }
      })
  </script>
}